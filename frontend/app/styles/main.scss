@import 'sass-bootstrap/lib/bootstrap';

$fa-font-path: '/bower_components/font-awesome/fonts';
@import 'font-awesome/scss/font-awesome';

/* Bootstrap buttons sizes */
$bootstrap-btn-height: $line-height-computed + 2 * $padding-base-vertical + 2px; // the 2px are for the border

/* General Colors */
$blue-hint: #428bca;
$red-hint: #D43F3F;
$lightest-gray: #eee;
$light-gray: #999;
$darkest-gray: #111;
$text-gray: #555;
$text-gray-background: #ddd;
$border-color: #bbb;
$selected-color: #4A9CE3;
$selected-body-color: rgba(255, 255, 255, 0.8);

/* Basic sizes */
$borders-width: 1px;
$favicon-size: 16px;
$favicon-padding: 2px;
$favicon-wrap-size: $favicon-size + 2 * $favicon-padding;

/* General font sizes */
// overwriting bootstrap fontsizes
$font-size-base: 14px;
$font-size-large: floor($font-size-base * 1.2); // ~16px
$font-size-small: ceil($font-size-base * 0.9); // ~13px

/* Basic buttons styles */
$button-horizontal-padding: 30px;
$button-vertical-padding: 5px;
$button-border-radius: 5px;
$button-font-size: $font-size-base;
$button-header-multipier: 1.25;

/* Home page styles */
$homepage-header-height: 50px;
$homepage-name-size: 0.8 * $homepage-header-height;
$header-horizontal-padding: 80px;

/* Form Box Style */
$form-box-vertical-padding: 5px;
$form-box-horizontal-padding: 20px;

/* Login and register pages style */
$logo-size: 100px;

/* Papers column */
$papers-column-width: 400px;
$actions-height: 80px;
$bottom-link-bar: 10px; // spacing for the link bar chrome shows
$paper-vertical-padding: 6px;
$paper-horizontal-padding: 30px;
$paper-margins: 5px;
$time-font-size: $font-size-small;
$journal-font-size: $font-size-small;
$title-font-size: $font-size-large;

/* Subscriptions column */
$subscriptions-column-width: 250px;

/* Navbar Style */
$navbar-height: 50px;
$navbar-top-border-width: 3px;
$navbar-controls-height: 30px;
$navbar-font-size: 14px;
$controls-horizontal-padding: 10px;
$filters-horizontal-margin: 3px; 
$frame-top: $navbar-height - 1px;

/* Content style */
$content-width: 600px;
$toolbar-height: 36px;
$toolbar-title-height: 16px;
$toolbar-horizontal-padding: 10px;
$background-image-size: 250px;

/* Subscritions style */
$subscriptions-vertical-padding: 10px;
$subscriptions-horizontal-padding: 30px;
$subscriptions-bar-height: $bootstrap-btn-height + 2 * $subscriptions-vertical-padding;
$pick-a-journal-column-width: 50%;
$filters-column-width: 15%;
$subscirptions-column-width: $pick-a-journal-column-width - $filters-column-width;
$filter-bottom-spacing: 30px;
$filters-column-padding: 15px;
$journal-cell-height: 50px;

$dropdown-menus-max-height: 315px;

/* helper classes */
.vertical-center {
    margin-top: auto;
    margin-bottom: auto;
    position: absolute;
    top: 0;
    bottom: 0;
}

.horizontal-center {
    margin-left: auto;
    margin-right: auto;
    position: absolute;
    left: 0;
    right: 0;
}

.full-height {
    height: 100%;
}

.rel-pos {
    position: relative;
}

.gray-background {
    background-color: $lightest-gray;
}

/* Basic buttons styles */
.button {
    display: block;
    height: floor($line-height-base * $button-font-size);
    a {
        padding-left: $button-horizontal-padding;
        padding-right: $button-horizontal-padding;
        padding-top: $button-vertical-padding;
        padding-bottom: $button-vertical-padding;
        border-radius: $button-border-radius;
        color: $red-hint;
        font-weight: bold;
        border: $borders-width solid $red-hint;
        font-size: $button-font-size;
        &:hover, &:focus {
            text-decoration: none;
            background-color: $red-hint;
            color:  #fff;
        }
        &.active {
            background-color: $red-hint;
            color: #fff;
        }
        &.inactive {
            border: $borders-width solid $light-gray;
            color: $light-gray;
            &:hover, &:focus {
                border: $borders-width solid $red-hint;
                background-color: transparent;
                color: $red-hint;
            }
        }
    }
}

// Replicate the button style but for a form button using an input tag
.form-button {
    padding-left: $button-horizontal-padding;
    padding-right: $button-horizontal-padding;
    padding-top: $button-vertical-padding;
    padding-bottom: $button-vertical-padding;
    border-radius: $button-border-radius;
    color: $red-hint;
    font-weight: bold;
    border: $borders-width solid $red-hint;
    font-size: $button-font-size;
    line-height: floor($line-height-base * $button-font-size);;
    background-color: #fff;
    &:hover, &:focus {
        background-color: $red-hint;
        color:  #fff;
    }
}

input[disabled] {
    border: $borders-width solid $light-gray;
    color: $light-gray;
    opacity: 0.5;
    &:hover, &:focus {
        background-color: $light-gray;
        color:  #fff;
    }
}

/* SVG images basic coloring */
a {
    .logo-path {
        fill: $light-gray;
    }
    &:hover {
        .logo-path {
            fill: $red-hint;
        }
    }
}

/* Home page styles */
.header {
    margin-top: 30px;
    margin-bottom: 10px;
    padding-left: $header-horizontal-padding;
    padding-right: $header-horizontal-padding;
    height: $homepage-header-height;
    position: relative;
    .button {
        right: $header-horizontal-padding;
        margin-right: 0px;
        height: floor($line-height-base * $button-font-size * $button-header-multipier);
        a {
            font-size: $button-font-size * $button-header-multipier;
        }
    }
}

.home-page {
    .logo {
        float: left;
        a {
            text-decoration: none;
            color: $darkest-gray; 
            font-weight: bold;
            width: 400px;
            svg {
                width: $homepage-header-height;
                height: $homepage-header-height;
                vertical-align: middle;
            }
            h1 {
                display: inline; 
                padding-left: 10px;
                font-size: $homepage-name-size;
                vertical-align: middle;
            }
            .logo-path {
                fill: $darkest-gray;
            }
            &:hover {
                .logo-path {
                    fill: $darkest-gray;
                }
            }
        }
    }
}

.description {
    margin-left: 90px;
    margin-right: 90px;
    margin-top: 30px;
    margin-bottom: 30px;
    font-size: 55px;
    font-weight: normal;
    text-align: center;
    font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
}

.screenshot {
    margin-bottom: 20px;
    padding-top: 10px;
    padding-bottom: 10px;
    background-color: $lightest-gray;
    border-bottom: $borders-width solid $red-hint;
    border-top: $borders-width solid $red-hint;
    img {
        width: 800px;
        margin-left: auto;
        margin-right: auto;
        display: block;
        border-radius: 4px;
    }
}

.icon{
    display:inline-block;
    font-size: 50px;
    line-height: 55px;
    width: 100%;
    height: 55px;
    text-align: center;
    vertical-align: bottom;
    color: $red-hint;
}

.specs {
    p {
        color: $text-gray;
    }
    strong {
        color: $darkest-gray;
    }
    .row {
        margin-bottom: 35px;
    }
}

.blurb {
    background-color: $text-gray-background;
    padding-top: 20px;
    padding-bottom: 5px;
    font-size: $font-size-small;
    font-weight: 200;
    .left {
        padding-left: 0px;
    }
    .right {
        margin-top: -7px;
        border-color: $red-hint;
        p {
            margin-bottom: 0px;
        }
    }
}

.footer {
    background-color: #333;
    color: #fff;
    padding-top: 10px;
    padding-bottom: 25px;
    .row {
        text-align: center; 
        padding-top: 15px;
        padding-bottom: 15px;
    }
    a {
        color: #fff;
        &:hover, &:focus {
            color: #fff;
            text-decoration: none;
        }
    }
}

/* Form Box Style */
.form-box {
    height: auto;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 15px;
    margin-top: 30px;
    border: $borders-width solid $border-color;
    border-radius: 4px;
    padding-right: $form-box-horizontal-padding;
    padding-left: $form-box-horizontal-padding;
    padding-top: $form-box-vertical-padding;
    padding-bottom: $form-box-vertical-padding;
    background-color: #fff;
    h2 {
        margin-top: 5px;
        margin-bottom: 20px;
        font-weight: normal;
        border-bottom: 2px solid $red-hint;
        line-height: 40px;
    }
    .form-group {
        margin-left: 0 !important;
        margin-right: 0 !important;
    }
}

/* Login and register pages style */
.credential-page {
    background-color: rgb(245, 245, 245);
    width: 100%;
    height: 100%;
    position: absolute;
    padding-top: 50px;
    .logo {
        margin-left: auto;
        margin-right: auto;
        width: $logo-size;
        svg {
            width: $logo-size;
            height: $logo-size;
        }
        a {
            .logo-path {
                fill: $darkest-gray;
            }
            &:hover {
                .logo-path {
                    fill: $darkest-gray;
                }
            }
        }
    }
    .form-box {
        width: 500px;
        .form-button {
            float: right;
        }
    }
}

.register-label {
    h4 {
        text-align: center;
        font-weight: normal;
        color: $text-gray;
    }
}

/* Navbar Style */
.bar {
    margin-bottom: 0px;
    height: $navbar-height;
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
    border-top: $navbar-top-border-width solid $darkest-gray;
    border-bottom: $borders-width solid $darkest-gray;
    border-radius: 0;
    background-color: #fff;
    font-weight: bold;
    line-height: $navbar-controls-height;
    ul {  
        padding: 0;  
        margin: 0;  
        height: $navbar-height;
        display: inline;
        li {
            display: inline;
            a {  
                text-decoration: none;  
                display: inline-block;  
                float: left;
                margin-bottom: ($navbar-height - $navbar-controls-height)/2 - $borders-width;
                margin-top: ($navbar-height - $navbar-controls-height)/2 - $navbar-top-border-width; 
                text-align: center; 
                font-size: $navbar-font-size;
            }
        }  
        &.logo-link {
            a {
                padding-left: 10px;
            }
            svg {
                width: $navbar-controls-height;
                height: $navbar-controls-height;
            }
        }
    }
}

.filters {
    a {
        width: $papers-column-width / 2 - 2 * $filters-horizontal-margin;
        margin-left: $filters-horizontal-margin;
        margin-right: $filters-horizontal-margin;
        padding-top: 0;
        padding-bottom: 0;
    }
}

.controls {
    padding-right: 5px;
    li {
        display: inline;
        a {
            padding-left: $controls-horizontal-padding;
            padding-right: $controls-horizontal-padding;
            border-right: $borders-width solid $border-color;
            color: $light-gray;
            &:hover, &:focus {
                color: $red-hint;
            }
        }
        &:last-child a {  
            border-right: none;
        }   
    }
}

/* Styles for the main frame below the navbar */
.main-frame {
    height: auto;
    width: 100%;
    top: $frame-top;
    bottom: 0px;
    left: 0px;
    position: absolute;
}

.app-wrap {
    height: 100%;
    width: 100%;
}

/* Articles page style */
.app-panel {
    vertical-align: top;
    display: table-cell;
    height: 100%;
    padding: 0;
    border-top: 2px solid rgba(0,0,0,0);
}

// put a red thick border on top of the active column
.active-column {
    border-top: 2px solid $red-hint;
}

.subscriptions-column {
    position: relative;
    width: $subscriptions-column-width;
    border-collapse: collapse;
    border-right: $borders-width solid $border-color;
    padding: 0;
}

.papers-column {
    position: relative;
    width: $papers-column-width;
    border-collapse: collapse;
    border-right: $borders-width solid $border-color;
    padding: 0;
}

.papers {
    position: absolute;
    top: 0;
    bottom: $actions-height;
    left: 0;
    right: 0;
    overflow-y: auto;
    overflow-x: hidden; 
    ul {
        padding-left: 0px;
        padding-right: 0px;
        padding-top: 0px;
        padding-bottom: $bottom-link-bar;
        list-style-image: none;
        list-style-position: outside;
        list-style-type: none;
    }
    li {
        list-style-image: none;
        list-style-position: outside;
        list-style-type: none;
    }
}

.favicon-wrap {
    border-radius: 2px;
    z-index: 0;
    padding: $favicon-padding;
    display: block;
    height: $favicon-wrap-size;
    width: $favicon-wrap-size;
    position: absolute;
    background-color: #fff;
    i {
        position: absolute;
        top: $favicon-padding;
        left: $favicon-padding;
        font-size: 16px;
    }
    img {
        position: absolute;
        top: $favicon-padding;
        left: $favicon-padding;
    }
}

.paper {
    margin-right: -1px;
    a {
        text-decoration: none;
        color: $text-color;
        font-size: $font-size-base;
        line-height: floor($line-height-base * $font-size-base);
        border-bottom: $borders-width solid $border-color;
        box-sizing: border-box;
        position: relative;
        display: block;
        margin-bottom: -1px;
        padding-bottom: $paper-vertical-padding;
        padding-top: $paper-vertical-padding;
        padding-right: 8px;
        padding-left: $paper-horizontal-padding;
        &:hover, &:focus {
            text-decoration: none;
            color: $text-color;
        }
    }
    time {
        font-size: $time-font-size;
        color: $light-gray;
    }
    .title {
        font-weight: bold;
        margin-top: 0;
        margin-bottom: $paper-margins;
        font-size: $title-font-size;
        line-height: $line-height-base * $title-font-size;
    }
    .journal {
        color: $text-gray;
        font-size: $journal-font-size;
    }
    .body {
        color: rgb(140, 140, 140);
    }
    p {
        margin-bottom: $paper-margins;
    }
    .favicon-wrap {
        left: 8px;
        top: 6px;
    }
}

.read {
    .title {
        color: $light-gray;
    }
}

.selected {
    background-color: $selected-color;
    a {
        time, .journal, .body {
            color: $selected-body-color !important; 
        }
        .title {
            color: #fff !important;
        }
        .journal {
            color: $selected-body-color;
        }
    }
}

.actions {
    width: 100%;
    height: 70px;
    background-color: $text-gray-background;
    border-top: $borders-width solid $border-color;
    bottom: 0;
    position: absolute;
    font-size: $font-size-small;
}

.toolbar-button {
    color: $text-gray;
    text-decoration: none;
    -webkit-appearance: none;
    display: inline-block;
    border: none;
    background: none;
    width: 45px;
    height: 51px;
    cursor: pointer;
    text-align: center;
    vertical-align: center;
    .inner {
        display: block;
        [class^="icon-"], [class*=" icon-"] {
            display: inline-block;
            width: 100%;
        }
        i {
            text-align: center;
        }
    }
    &:hover, &:focus {
        color: $red-hint;
    }
}

.toolbar-button-text {
    width: 85px;
}

.paper-wrap {
    position: relative;
    background-color: $text-gray-background;
    background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwIiB5PSIwIiB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIG1lZXQiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogIDxwYXRoIGNsYXNzPSJsb2dvLXBhdGgiIGZpbGw9IiM5OTk5OTkiIGQ9Ik0yOTIuMTQgMTIxLjY1Yy0xMC41Ny02LTIyLjU3LTkuMDEtMzYuMDItOS4wMSAtOC4xNiAwLTE4LjY1IDEuNTItMzEuNDYgNC41NnYxMzUuNDNjOC40OCAxLjYgMTYuMDEgMi44IDIyLjU3IDMuNiA2LjU2IDAuOCAxMi4xNiAxLjIgMTYuODEgMS4yIDE2LjY1IDAgMzEuMDEtNi40NCA0My4xLTE5LjMzIDEyLjA5LTEyLjg4IDE4LjEzLTI5LjU3IDE4LjEzLTUwLjA3IDAtMTQuMDgtMi44OC0yNy4xNy04LjY0LTM5LjI2QzMxMC44NyAxMzYuNyAzMDIuNyAxMjcuNjUgMjkyLjE0IDEyMS42NXoiLz4KICA8cGF0aCBjbGFzcz0ibG9nby1wYXRoIiBmaWxsPSIjOTk5OTk5IiBkPSJNNDYwLjE2IDE0LjA0SDUxLjg1Yy0yMC44OCAwLTM3LjgxIDE2LjkzLTM3LjgxIDM3LjgxdjQwOC4zMWMwIDIwLjg4IDE2LjkzIDM3LjgxIDM3LjgxIDM3LjgxaDQwOC4zMWMyMC44OCAwIDM3LjgxLTE2LjkzIDM3LjgxLTM3LjgxVjUxLjg1QzQ5Ny45NiAzMC45NyA0ODEuMDQgMTQuMDQgNDYwLjE2IDE0LjA0ek0zNTMuNzMgMjQ4LjA4Yy0xNy41MyAxNi42NS00Mi4zIDI0Ljk3LTc0LjMyIDI0Ljk3IC03Ljg1IDAtMTYuMzMtMC41Ni0yNS40NS0xLjY4IC05LjEyLTEuMTItMTguODktMi44LTI5LjI5LTUuMDR2OTQuODVjMCAyMC40OSAyLjI0IDMzLjIyIDYuNzIgMzguMTggNi4wOCA3LjA1IDE1LjI5IDEwLjU3IDI3LjYxIDEwLjU3aDEyLjQ5djguODlIMTMxLjk4di04Ljg4aDEyLjI1YzEzLjc3IDAgMjMuNjEtNC40OCAyOS41NC0xMy40NSAzLjItNC45NiA0LjgtMTYuNzMgNC44LTM1LjN2LTIxMC4zNWMwLTIwLjQ5LTIuMTYtMzMuMjItNi40OC0zOC4xOCAtNi4yNC03LjA0LTE1LjUzLTEwLjU3LTI3Ljg1LTEwLjU3aC0xMi4yNXYtOC44OGgxMTkuMzRjMjkuMTMgMCA1Mi4xMSAzIDY4LjkyIDkuMDEgMTYuODEgNiAzMC45OCAxNi4xMyA0Mi41IDMwLjM4IDExLjUzIDE0LjI1IDE3LjI5IDMxLjE0IDE3LjI5IDUwLjY3QzM4MC4wMyAyMDkuODIgMzcxLjI2IDIzMS40MyAzNTMuNzMgMjQ4LjA4eiIvPgo8L3N2Zz4=");
    background-size: $background-image-size $background-image-size;
    background-position: 50% 50%;
    background-repeat: no-repeat;
}

.paper-toolbar {
    background-color: #fff;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: $toolbar-height;
    border-bottom: $borders-width solid $border-color;
    padding-left: $toolbar-horizontal-padding;
    padding-right: $toolbar-horizontal-padding;
    .journal {
        margin-left: $toolbar-horizontal-padding + $favicon-wrap-size;
        font-weight: bold;
    }
    a {
        margin-top: 0.5 * ($toolbar-height - $toolbar-title-height);
        color: $text-gray;
        text-decoration: none;
        line-height: $toolbar-height;
        &:hover, &:focus {
            text-decoration: none;
        }
    }
    ul {
        padding: 0;  
        margin: 0;  
        height: $toolbar-height;
        display: inline;
        svg {
            width: 18px;
            height: 18px;
            margin-bottom: -3px;
        }
    }
}

.paper-content {
    background-color: #fff;
    display: block;
    position: absolute;
    height: auto;
    bottom: 0;
    top: $toolbar-height;
    left: 0;
    right: 0;
    margin: 0;
    overflow-y: auto;
    overflow-x: hidden;
}

.paper-inner {
    padding: 40px 20px 10px 20px;
    margin: 0 auto;
    max-width: $content-width;
    a:hover, a:focus {
        text-decoration: none;
    }
    .title {
        font-weight: normal;
        line-height: 1.1em;
    }
    .journal, time {
        color: $light-gray;
        font-size: $font-size-large;
        margin-bottom: $paper-margins;
    }
    .body {
        margin-top: 15px;
        line-height: 23px;
    }
}

/* Subscription page styles */
.subscriptions-bar {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: $subscriptions-bar-height;
    padding-top: $subscriptions-vertical-padding;
    padding-bottom: $subscriptions-vertical-padding;
    padding-left: $subscriptions-horizontal-padding;
    padding-right: $subscriptions-horizontal-padding;
    background-color: $lightest-gray;
    border-bottom: $borders-width solid $border-color;
    border-top: $borders-width solid $border-color;
    h4 {
        line-height: $bootstrap-btn-height;
        margin-top: 0;
        margin-bottom: 0;
    }
    a {
        &.plain {
            color: #000;
            &:hover {
                color: #000;
                cursor: default;
            }
        }
        &:hover {
            color: $red-hint;
        }
    }
}

// TODO: revise the entire subscription page styles section
.filters-column {
    background-color: #1A364F;
    width: $filters-column-width;
    left: 0;
    bottom: 0;
    top: $subscriptions-bar-height;
    display: block;
    position: absolute;
    border-right: $borders-width solid $border-color;
    padding: $filters-column-padding;
    p {
        color: #fff;
    }
    .filter {
        display: inline-block;
        width: 100%;
        padding-bottom: $filter-bottom-spacing;
        .dropdown-menu {
            max-height: $dropdown-menus-max-height;
            overflow-y: auto;
        }
    }
    .btn-group {
        width: 100%;
    }
    button {
        width: 100%;
    }
}

.subscription-column {
    display: block;
    position: absolute;
    height: auto;
    bottom: 0;
    top: $subscriptions-bar-height;
    left: $filters-column-width;
    width: $subscirptions-column-width;
    overflow-x: hidden;
    overflow-y: auto;
    border-right: $borders-width solid $border-color;
    ul {
        list-style-image: none;
        list-style-position: outside;
        list-style-type: none;
        padding-left: 0;
        background-color: white;
        margin-bottom: 0;
    }
    li {
        list-style-image: none;
        list-style-position: outside;
        list-style-type: none;
        border-bottom: $borders-width solid $border-color;
        height: $journal-cell-height;
        a {
            white-space: nowrap;
            text-overflow: ellipsis;
            width: 100%;
            overflow: hidden;
            line-height: $journal-cell-height;
            padding-left: 30px;
            padding-right: 5px;
            color: $text-gray;
            display: block;
            &:hover, &:focus {
                text-decoration: none;
            }
        }
        button {
            width: 100px;
            margin-right: 20px;
        }
        &:hover {
            background-color: rgb(245, 245, 245);
        }
    }
}

.suggestion-column {
    background-color: white;
    border-left: $borders-width solid $border-color;
    padding-top: 30px;
    width: 100% - $pick-a-journal-column-width;
    left: $pick-a-journal-column-width;
    display: block;
    position: absolute;
    bottom: 0;
    top: $subscriptions-bar-height;
    overflow-x: hidden;
    overflow-y: auto;
    .form-button {
        margin-right: 15px;
    }
}

.suggestion-wrap {
    height: 100%;
    margin-top: 25px;
    #blurb {
        color: $text-gray;
    }
    .form-button {
        float: right;
        margin-top: 30px;
        margin-right: 15px;
    }
}